?fromJSON
do.call(rbind, lapply(document$features,
function(x) data.frame(x$properties)))
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
for(i in length(json_data))
json_data[[1]]
json_data[[1]][[1]]
json_data[[1]][[1]]
json_data[[1]][[1]]
data.frame(id = i, json_data[[1]][[1]]))
data.frame(id = i, json_data[[1]][[1]])
i <-1
data.frame(id = i, json_data[[1]][[1]])
json_data[[1]][[1]]
c(id = i, json_data[[1]][[1]])
requests<- list()
requests <- list()
json_data
df <- data.frame(id = numeric(),
input = character(),
date = character(),
stop = character(),
phone = character()
)
json_data[[1]]
json_data[[1]][[1]]
for(i in length(json_data)) {
for(i in length(json_data)) {
df[i,] <- c(id = i,
input = json_data[[1]][[1]]$input,
date = json_data[[1]][[1]]$date,
stop = json_data[[1]][[1]]$stop,
phone = json_data[[1]][[1]]$phone)
}
for(i in length(json_data)) {
df[i,] <- c(id = i,
input = json_data[[1]][[1]]$input,
date = json_data[[1]][[1]]$date,
stop = json_data[[1]][[1]]$stop,
phone = json_data[[1]][[1]]$phone)
}
seq(length(json_data))
length(json_data[[1]])
for(i in seq(length(json_data[[1]]))) {
df[i,] <- c(id = i,
input = json_data[[1]][[1]]$input,
date = json_data[[1]][[1]]$date,
stop = json_data[[1]][[1]]$stop,
phone = json_data[[1]][[1]]$phone)
}
seq(length(json_data[[1]]))
for(i in seq(length(json_data[[1]]))) {
df[i,] <- c(id = i,
input = json_data[[1]][[1]]$input,
date = json_data[[1]][[1]]$date,
stop = json_data[[1]][[1]]$stop,
phone = json_data[[1]][[1]]$phone)
}
c(id = i,
input = json_data[[1]][[1]]$input,
date = json_data[[1]][[1]]$date,
stop = json_data[[1]][[1]]$stop,
phone = json_data[[1]][[1]]$phone)
json_data[[1]][[1]]$input
json_data[[1]][[1]]
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
d
for(i in 1:nrow(df)){
temp <- cbind(df[i,],breakdown_list[[i]])
parsed_df <- rbind(parsed_df, temp)
}
json_data
unlistjson_data)
unlist(json_data)
json_data
matrix(json_data, ncol= 4)
matrix(unlist(json_data), ncol= 4)
json_data[1:1]
json_data[1:2]
json_data[[1]]
json_data[[1]][1:2])
json_data[[1]][1:2]
toJSONjson_data[[1]][1:2])
toJSON(json_data[[1]][1:2])
fromJSON(toJSON(json_data[[1]][1:2]))
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
c <- c("input", "stop", "date", "phone")
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
c <- c("input", "stop", "date", "phone")
lapply(json_data, function(r) {
rv <- list()
for(i in v)
if(is.null([[i]]))
{
iv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
json_data
c <- c("input", "stop", "date", "phone")
v <- c("input", "stop", "date", "phone")
lapply(json_data, function(r) {
rv <- list()
for(i in v)
if(is.null([[i]]))
{
iv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
v <- c("input", "stop", "date", "phone")
lapply(json_data, function(r) {
rv <- list()
for(i in v)
if(is.null([[i]]))
{
iv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
v <- c("input", "stop", "date", "phone")
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null([[i]]))
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null(r[[i]]))
{
iv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
library(rjson)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null(r[[i]]))
{
rv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null(r[[i]]))
{
rv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null(r[[i]]))
{
rv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
lapply(json_data, function(r) {
v <- c("input", "stop", "date", "phone")
rv <- list()
for(i in v)
if(is.null(r[[i]]))
{
rv[[i]] <- NA
}
else
{
rv[[i]] <- r[[i]]
}
return(rv)
})
library(jsonlist)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
library(jsonlist)
library(jsonlite)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
library(jsonlite)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
install.packages("curl")
library(jsonlite)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
library(jsonlite)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)
json_data
head(json_data)
head(json_data)
library(ggmap)
devtools::install_github("rstudio/leaflet")
leaflet() %>% addTiles()
library(leaflet)
leaflet() %>% addTiles()
head(json_data)
json_data$date
json_data$date
json_data$date
json_data <- fromJSON(url)$requests
json_data$date
library(lubridate)
json_data$date
ymd_hms(json_data$date)
ymd_hms(json_data$date, tz = "UTC")
<- ymd_hms(json_data$date, tz = "America/Anchorage")
"America/Anchorage"
<- ymd_hms(json_data$date, tz = "America/Anchorage")
ymd_hms(json_data$date, tz = "America/Anchorage")
json_date$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
json_data$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
ymd_hms(json_data$date, tz = "America/Anchorage")
ggplot(data = json_data, aes(x = date)) + geom_bar()
ggplot(data = json_data, aes(x = date)) + geom_bar() + geom_title("People Mover Real Time Requests") +
xlab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + geom_title("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
head(json_data)
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
library(jsonlite)
library(leaflet)
library(lubridate)
library(ggmap)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)$requests
json_data$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
library(jsonlite)
library(leaflet)
library(lubridate)
library(ggmap)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)$requests
json_data$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
json_data$date
json_data$date
ggplot(data = json_data, aes(x = date, color = )) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = day(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = hour(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = hour(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests") + xlab("Hour of the Day")
ggplot(data = json_data, aes(x = day(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
fromJSON(url)$requests
json_data$input
nchar(json_data$input) > 20
nchar(json_data$input)
nchar(json_data$input) > 20
json_data[nchar(json_data$input) > 20,]
json_data[nchar(json_data$input) > 20,]
json_data[nchar(json_data$input) > 20,]$input
library(stringr)
json_data[nchar(json_data$input) > 20,]$input
split_string_fixed
string_split_fixed
str_split_fixed
str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
lat_lon <- str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
as.numeric(lat_lon)
as.numeric(lat_lon)
data.frame(lat = as.numeric(lat_long[,1]), lon = as.numeric(lat_long[,2]))
lat_lon <- str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
data.frame(lat = as.numeric(lat_long[,1]), lon = as.numeric(lat_long[,2]))
data.frame(lat = as.numeric(lat_lon[,1]), lon = as.numeric(lat_lon[,2]))
lat_lon <- str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
lat_lon <- data.frame(lat = as.numeric(lat_lon[,1]), lon = as.numeric(lat_lon[,2]))
lat_lon
plot(lat_lon)
m = leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_long$lat, lat_long$lon, 'Here is the <b>Department of Statistics</b>, ISU')
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_long$lat, lat_long$lon, 'Here is the <b>Department of Statistics</b>, ISU')
lat_lon <- data.frame(lat = as.numeric(lat_lon[,1]), lon = as.numeric(lat_lon[,2]))
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_long$lat, lat_long$lon, 'Here is the <b>Department of Statistics</b>, ISU')
library(jsonlite)
library(leaflet)
library(string)
library(lubridate)
library(ggmap)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)$requests
json_data$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
ggplot(data = json_data, aes(x = day(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = hour(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests") + xlab("Hour of the Day")
lat_lon <- str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
lat_lon <- data.frame(lat = as.numeric(lat_lon[,1]), lon = as.numeric(lat_lon[,2]))
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_long$lat, lat_long$lon, 'Here is the <b>Department of Statistics</b>, ISU')
library(jsonlite)
library(leaflet)
library(string)
library(lubridate)
library(ggmap)
url <- "http://bus.codeforanchorage.org/db.json"
json_data <- fromJSON(url)$requests
json_data$date <- ymd_hms(json_data$date, tz = "America/Anchorage")
ggplot(data = json_data, aes(x = day(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = hour(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests") + xlab("Hour of the Day")
lat_lon <- str_split_fixed(json_data[nchar(json_data$input) > 20,]$input, ", ", 2)
lat_lon <- data.frame(lat = as.numeric(lat_lon[,1]), lon = as.numeric(lat_lon[,2]))
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'Here is the <b>Department of Statistics</b>, ISU')
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 17) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 10) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 8) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
leaflet() %>% addTiles()
m <- leaflet() %>% addTiles() %>% setView(-61.2, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m
m %>% setView(-61.2, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- leaflet() %>% addTiles()
m
m %>% setView(-61.2, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- m %>% setView(-61.200, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- m %>% setView(-61.200, -149.893, zoom = 15) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- m %>% setView(-61.200, -149.893, zoom = 12) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m  # a map with the default OSM tile layer
library(leaflet)
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m = m %>% setView(-93.65, 42.0285, zoom = 17)
m
lat_lon$lat
lat_lon$lon
m <- m %>% setView(-61.215, -149.942, zoom = 12) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- leaflet() %>% addTiles()
m <- m %>% setView(-61.215, -149.942, zoom = 12) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m
m <- leaflet() %>% addTiles()
m
m %>% setView(-61.215, -149.942, zoom = 12) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m <- m %>% setView(lat_lon$lat[1], lat_lon$lon[1], zoom = 12) %>%
addPopups(lat_lon$lat, lat_lon$lon, 'test')
m
m <- leaflet() %>% addTiles()
m <- m %>% setView(lat_lon$lat[1], lat_lon$lon[1], zoom = 12) %>%
addPopups(lat_lon$lat[1], lat_lon$lon[1], 'test')
m
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m %>% setView(-61.2 42.0285, zoom = 17)
m = m %>% setView(61.200, -149.3, zoom = 17)
m
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m = m %>% setView(61.200, -149.3, zoom = 13)
m
library(leaflet)
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m = m %>% setView(-93.65, 42.0285, zoom = 17)
m
m = m %>% setView(-93.65, 42.0285, zoom = 15)
m
m = m %>% setView(-93.65, 42.0285, zoom = 15)
m
m = m %>% setView(-93.65, 42.0285, zoom = 12)
m
m = m %>% setView(-93.65, 42.0285, zoom = 11)
m
m = m %>% setView(-149.12, 61.2, zoom = 11)
m
lat_lon$lat
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m = m %>% setView(-149.12, 61.2, zoom = 11)
m
m = m %>% setView(-149.12, 61.2, zoom = 11)
m = m %>% setView(-149.12, 61.2, zoom = 10)
m
m = m %>% setView(-149.885, 61.181, zoom = 10)
m
m %>% addPopups(lat_lon$lat, lat_lon$lon, 'test')
m = m %>% setView(-149.885, 61.181, zoom = 10)
m = leaflet() %>% addTiles()
m  # a map with the default OSM tile layer
m = m %>% setView(-149.885, 61.181, zoom = 10)
m
m %>% addPopups(lat_lon$lat, lat_lon$lon, 'test')
m %>% addPopups(lat_lon$lon, lat_lon$lat, 'test')
m = m %>% setView(-149.885, 61.181, zoom = 10)
m = m %>% setView(-149.885, 61.181, zoom = 10)
m
m %>% addPopups(lat_lon$lon, lat_lon$lat, 'test')
leaflet() %>% addTiles() %>% setView(-149.885, 61.181, zoom = 10) %>% addPopups(lat_lon$lon, lat_lon$lat, 'test')
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addPopups(lat_lon$lon, lat_lon$lat, 'test')
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addPopups(lat_lon$lon, lat_lon$lat, 'test')
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10)
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircle(lat_lon$lon, lat_lon$lat, 1)
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, 1)
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 1.2)
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 3)
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 3, color = "#ffffff")
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 3, color = "#ff0000")
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 3, color = "#ff0000")
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 10) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 5, color = "#ff0000")
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 13) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 5, color = "#ff0000")
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 12) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 5, color = "#ff0000")
leaflet() %>% addTiles() %>%
setView(-149.885, 61.181, zoom = 11) %>% addCircles(lat_lon$lon, lat_lon$lat, radius = 5, color = "#ff0000")
ggplot(data = json_data, aes(x = hour(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests") + xlab("Hour of the Day")
ggplot(data = json_data, aes(x = day(date))) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
ggplot(data = json_data, aes(x = date)) + geom_bar() + ggtitle("People Mover Real Time Requests") +
ylab("Number of Requests")
